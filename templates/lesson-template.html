<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{TITLE}} - Learn Python</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code&display=swap">
  <script src="/assets/js/app.js" defer></script>
</head>
<body>
  <div class="nav-wrapper">
    <nav>
      <a href="/" class="logo">Learn Python</a>
      <div class="nav-links">
        <a href="/beginner/getting-started.html">Beginner</a>
        <a href="/intermediate/overview.html">Intermediate</a>
        <a href="/advanced/overview.html">Advanced</a>
        <a href="/projects/index.html">Projects</a>
        <a href="/playground.html">Code Playground</a>
      </div>
    </nav>
  </div>

  <main class="container">
    <article class="lesson-content">
      <header class="lesson-header">
        <h1 class="section-title">{{TITLE}}</h1>
        <div class="lesson-meta">
          <span class="difficulty">{{DIFFICULTY}}</span>
          <span class="estimated-time">{{TIME}} minutes</span>
        </div>
      </header>

      <section class="lesson-overview">
        <h2>Overview</h2>
        <p>{{OVERVIEW}}</p>
        
        <div class="prerequisites">
          <h3>Prerequisites</h3>
          <ul>
            {{PREREQUISITES}}
          </ul>
        </div>
      </section>

      <section class="content">
        {{CONTENT}}
      </section>

      <section class="code-practice">
        <h2>Practice</h2>
        <div class="code-area">
          <textarea class="code-editor" id="code-editor">{{STARTER_CODE}}</textarea>
          <button class="btn" onclick="runCode()">Run Code</button>
          <div class="output-area" id="output"></div>
        </div>
      </section>

      <section class="exercises">
        <h2>Exercises</h2>
        <div class="exercise-list">
          {{EXERCISES}}
        </div>
      </section>

      <nav class="lesson-navigation">
        <a href="{{PREV_LESSON}}" class="btn">← Previous Lesson</a>
        <a href="{{NEXT_LESSON}}" class="btn">Next Lesson →</a>
      </nav>
    </article>

    <aside class="lesson-sidebar">
      <div class="card">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="#overview">Overview</a></li>
          <li><a href="#practice">Practice</a></li>
          <li><a href="#exercises">Exercises</a></li>
        </ul>
      </div>

      <div class="card">
        <h3>Related Topics</h3>
        <ul>
          {{RELATED_TOPICS}}
        </ul>
      </div>
    </aside>
  </main>

  <footer>
    <div class="footer-content">
      <div>
        <h3>Learn Python</h3>
        <p>Master Python programming through interactive lessons and projects.</p>
      </div>
      <div>
        <h4>Quick Links</h4>
        <ul>
          <li><a href="/about.html">About</a></li>
          <li><a href="/contact.html">Contact</a></li>
          <li><a href="/faq.html">FAQ</a></li>
        </ul>
      </div>
      <div>
        <h4>Resources</h4>
        <ul>
          <li><a href="/blog.html">Blog</a></li>
          <li><a href="/documentation.html">Documentation</a></li>
          <li><a href="/community.html">Community</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <!-- Include Skulpt for Python execution -->
  <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt-stdlib.js"></script>
  <script>
    function outf(text) {
      var output = document.getElementById("output");
      output.innerHTML += text;
    }
    
    function builtinRead(x) {
      if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
        throw "File not found: '" + x + "'";
      return Sk.builtinFiles["files"][x];
    }
    
    function runCode() {
      var prog = document.getElementById("code-editor").value;
      var output = document.getElementById("output");
      output.innerHTML = '';
      Sk.configure({output:outf, read:builtinRead}); 
      try {
        Sk.importMainWithBody("<stdin>", false, prog, true);
      } catch(e) {
        output.innerHTML = e.toString();
      }
    }
  </script>
</body>
</html>
